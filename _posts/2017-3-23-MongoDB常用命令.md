---
title: MongoDB常用命令
category: 随笔
layout: post
---

###    1.安装
*   方式1：
```
mongod --dbpath D:\mongodb\data --logpath D:\mongodb\log\log.txt --storageEngine=mmapv1
--logappend --journal --directoryperdb --auth --install --serviceName MongoDB --bind_ip
127.0.0.1 --port 27017
```

*   方式2：
```
mongod -f  D:\mongodb\mongodb.conf
```

###    2.启动、关闭和删除mongo服务
```
net start mongodb
net stop mongodb
mongod.exe --remove --serviceName "MongoDB"
sc delete mongodb
```

###    3.创建用户

```
use admin
db.createUser(
  {
    user: "root",
    pwd: "123456",
    roles: [{ role: "root", db: "admin" }]
  }
)
db.auth("root","123456")
use dzzz
db.createUser(
 {
    user: "root",
    pwd: "123456",
    roles: [{ role: "readWrite", db: "dzzz" }]
  }
)
db.auth("root","123456")
db.system.users.remove({'user':'root'})
```

具体角色：
*   Read：允许用户读取指定数据库
*   readWrite：允许用户读写指定数据库
*   dbAdmin：允许用户在指定数据库中执行管理函数，如索引创建、删除，查看统计或访问system.profile
*   userAdmin：允许用户向system.users集合写入，可以找指定数据库里创建、删除和管理用户
*   clusterAdmin：只在admin数据库中可用，赋予用户所有分片和复制集相关函数的管理权限。
*   readAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的读权限
*   readWriteAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的读写权限
*   userAdminAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的userAdmin权限
*   dbAdminAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的dbAdmin权限。
*   root：只在admin数据库中可用。超级账号，超级权限

###    5.常用命令
```
show dbs
show users
show collections
db.shutdownServer()
```
